version: '3.1'


services:

  production-nginx-container:

    container_name: 'production-nginx-container'

    image: tobi312/rpi-nginx

    ports:

      - "80:80"

      - "443:443"

    volumes:

      - ./production.conf:/etc/nginx/conf.d/default.conf

      - ./production-site:/usr/share/nginx/html

      - ./dh-param/dhparam-2048.pem:/etc/ssl/certs/dhparam-2048.pem

      - /docker-volumes/etc/letsencrypt/live/home.0lzi.tk/fullchain.pem:/etc/letsencrypt/live/home.0lzi.tk/fullchain.pem

      - /docker-volumes/etc/letsencrypt/live/home.0lzi.tk/privkey.pem:/etc/letsencrypt/live/home.0lzi.tk/privkey.pem

    networks:

      - docker-network
      
    restart: always

networks:

  docker-network:

    driver: bridge